const Schedule = require('../models/Schedule');

exports.getSchedules = async (req, res) => {
  const schedules = await Schedule.find({ employeeName: req.user.name });
  res.send(schedules);
};

exports.createSchedule = async (req, res) => {
  const { title, weekStart, weekEnd, timeSlots } = req.body;
  const schedule = new Schedule({
    title,
    weekStart,
    weekEnd,
    timeSlots,
    employeeName: req.user.name
  });
  await schedule.save();
  res.send(schedule);
};
